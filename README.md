# 업무현황판 (Worklog Management Dashboard)

**업무현황판**은 연구소 내 프로젝트(Task)와 일일 업무일지(Daily Logs)를 연동하여, 구성원 개개인의 업무 내용을 간편하게 기록하고, 팀/관리자는 프로젝트 진행 상태를 시각적으로 추적할 수 있도록 설계된 **Power Apps + SharePoint 기반의 통합 업무 관리 앱**입니다.

> 본 앱은 Microsoft Teams 내에서 동작하며, Canvas App UI 기반으로 구현되어 비개발자도 손쉽게 사용할 수 있도록 제작되었습니다.

---

## 📌 프로젝트 개요 (Overview)

기존에는 업무일지 작성이 엑셀 또는 수기로 이루어져 체계적인 관리가 어려웠습니다.  
**업무현황판**은 다음과 같은 요구사항을 바탕으로 설계되었습니다:

- 연구원 개개인의 프로젝트(Task) 관리와 시간 기록
- 일일 업무일지(Daily Logs)를 손쉽게 등록/수정
- 업무 시작일/종료일 범위에 해당하는 Task 자동 매칭
- 사용자 팀, 직급 등 자동 연동
- 불필요한 반복작업 제거 → 기록 효율화
- SharePoint 기반 DB와 Power Apps의 시각 UI 결합
- 향후 관리자 대시보드(Power BI 연계 등) 확장 가능

---

## ⚙️ 주요 기능 (Features)

### 1. 📂 업무(Task) 관리
- `Task_DB`에 각 업무 등록 (업무_계정, 프로젝트명, 상태, 시작일/종료일 등)
- 업무 타임라인을 "시작전 → 진행중 → 완료" 단계로 시각화
- 프로젝트명 기준으로 Task 필터링 및 다중 선택 기능

### 2. 📝 일일 업무일지(Daily Logs)
- `Daily_DB`에 날짜별 작업내용 및 시간 저장
- 업무 시작/종료일 범위가 오늘에 포함된 Task 자동 매칭
- **+추가 버튼**을 통해 필요한 Task만 골라 기록
- 수정 시 기존 Daily_DB 레코드가 업데이트됨 (중복 생성 방지)

### 3. 👥 사용자 자동 인식
- `UserInfo_DB`에서 이름 ↔ 팀/직급 자동 LookUp
- 기록 시 작성자, 팀, 직급 자동 입력

### 4. 🧠 편의 기능
- 오늘 포함 업무 자동 필터링 (또는 "15일 이내 보기" 모드)
- 갤러리 내 편집 가능 TextBox로 작업시간/내용 실시간 입력
- Task 리스트 다중 필터링 / 검색
- **제거 버튼**으로 일지에서 임시 제외 가능 (DB 영향 없음)

### 5. 🔁 수정/저장 로직 안정화
- 기존 Daily_DB 레코드는 ID 기반으로 정확하게 수정 (Patch)
- 새로운 기록은 Insert 처리
- 동일한 날에 동일한 Task를 중복 저장하지 않도록 로직 분기 처리

---

## 🧱 데이터 구조 (SharePoint Lists)

| 리스트명       | 설명                                       |
|----------------|--------------------------------------------|
| `Task_DB`      | 전체 업무(Task) 목록 관리                  |
| `Daily_DB`     | 일일 업무일지 (사용자가 입력한 기록)       |
| `UserInfo_DB`  | 사용자 정보 (이름, 이메일, 부서, 팀 등)    |
| `Project_DB` *(선택)* | 프로젝트 대분류/소분류 등               |

> 모든 리스트는 Power Apps와 연결되어 있으며, 앱 내에서 자동으로 CRUD 처리됩니다.

---

## 🖥️ 화면 구성 (Screens)

### ✅ Task_Screen (업무 현황)
- 프로젝트 필터 갤러리 + 업무 타임라인(시작전/진행중/완료)
- 업무 상태 변경 (예: "진행중 → 완료") 버튼 지원

### ✅ Daily_Screen (업무 일지)
- 좌측: 등록된 업무(Task) 리스트 (검색 및 +추가 기능)
- 우측: 선택된 날짜에 대해 작성할 업무 리스트
  - 작업시간, 작업내용 입력 가능
  - 저장 버튼 클릭 시 `Daily_DB` 일괄 저장
- 달력 클릭 시 작성된 날짜에 ● 표시
- 수정 시 기존 레코드 갱신되며, 중복 생성되지 않음

---

## 🔧 설치 및 설정 (Setup)

1. **SharePoint 리스트 4종 생성**
   - Task_DB, Daily_DB, UserInfo_DB, Project_DB (옵션)
   - 열 이름/타입 일치 필수 (예: 업무제목, 프로젝트명 등)

2. **Power Apps Import**
   - .msapp 파일 가져오기
   - SharePoint 커넥터 설정 및 리스트 연결

3. **Teams 배포 (선택)**
   - Teams 내 탭으로 고정
   - 모든 사용자가 Teams에서 바로 접근 가능

---

## 🚀 향후 개발 계획 (Roadmap)

- ✅ **버그 해결 (2024.04)**
  - 기존 레코드가 수정되지 않고 중복 생성되던 문제 해결
  - 작업내용/시간이 전체 Task에 동일하게 덮어씌워지던 현상 해결
  - +추가 버튼 → Task가 추가되지 않던 오류 수정

- 📆 **캘린더 기반 조회 뷰 추가**
  - Daily_DB에 기록된 일자를 달력에 표시

- 🧑‍💼 **관리자 대시보드**
  - 팀별/프로젝트별 누적 업무량 집계
  - 관리자 권한 별도 제공

- 🔐 **데이터 보호/권한 관리**
  - 연구원/팀장/관리자 뷰 분리 예정
